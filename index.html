<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>LegiScan R assistant • legihelpR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="LegiScan R assistant">
<meta name="description" content="legihelpR uses the LegiScan api to read in data and put it into a dataframe.">
<meta property="og:description" content="legihelpR uses the LegiScan api to read in data and put it into a dataframe.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">legihelpR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="legihelpr">legihelpR<a class="anchor" aria-label="anchor" href="#legihelpr"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>This R package, legihelpR, is meant to use the legiscan API to help track legislative actions.</p>
<div class="section level2">
<h2 id="installation--load">Installation &amp; Load<a class="anchor" aria-label="anchor" href="#installation--load"></a>
</h2>
<p>You can install the development version of legihelpR from <a href="https://github.com/aberuiz/legihelpR" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="co"># remotes::install_github("aberuiz/legihelpR")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://aberuiz.github.io/legihelpR/">legihelpR</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="api-registration">API Registration<a class="anchor" aria-label="anchor" href="#api-registration"></a>
</h2>
<p>Requests to legiscan require an API key to function. You can register for an API key on the <a href="https://legiscan.com/user/register" class="external-link">legiscan website</a>.</p>
<p>You can store your API key into your environment using <code>setlegiKey</code>. To permanently store your legiscan API key in your environment use the argument ‘install = TRUE’.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/setlegiKey.html">setlegiKey</a></span><span class="op">(</span></span>
<span>  APIkey <span class="op">=</span> <span class="st">"&lt; 32 character API Key &gt;"</span>,</span>
<span>  install <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Once you have set up your API key all other legihelpR functions will use <code>getlegiKey</code> to check your stored environment file by default. You can use <code>getlegiKey</code> to check which API key you have stored. You can overwrite your existing key by using ‘overwrite = TRUE’ in <code>setlegiKey</code>.</p>
</div>
<div class="section level2">
<h2 id="sessions">Sessions<a class="anchor" aria-label="anchor" href="#sessions"></a>
</h2>
<p>Receive a dataframe of all sessions in legiscan’s database using <code>getSessions</code> to return unique Session IDs for the provided state.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/getSessions.html">getSessions</a></span><span class="op">(</span>state <span class="op">=</span> <span class="st">"MA"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 8 × 14</span></span>
<span><span class="co">#&gt;   session_id state_id year_start year_end prefile sine_die prior special</span></span>
<span><span class="co">#&gt;        &lt;int&gt;    &lt;int&gt;      &lt;int&gt;    &lt;int&gt;   &lt;int&gt;    &lt;int&gt; &lt;int&gt;   &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1       2026       21       2023     2024       0        0     0       0</span></span>
<span><span class="co">#&gt; 2       1807       21       2021     2022       0        1     1       0</span></span>
<span><span class="co">#&gt; 3       1637       21       2019     2020       0        1     1       0</span></span>
<span><span class="co">#&gt; 4       1413       21       2017     2018       0        1     1       0</span></span>
<span><span class="co">#&gt; 5       1134       21       2015     2016       0        1     1       0</span></span>
<span><span class="co">#&gt; 6       1006       21       2013     2014       0        1     1       0</span></span>
<span><span class="co">#&gt; 7         99       21       2011     2012       0        1     1       0</span></span>
<span><span class="co">#&gt; 8         28       21       2009     2010       0        1     1       0</span></span>
<span><span class="co">#&gt; # ℹ 6 more variables: session_tag &lt;chr&gt;, session_title &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   session_name &lt;chr&gt;, dataset_hash &lt;chr&gt;, session_hash &lt;chr&gt;, name &lt;chr&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="master-list">Master List<a class="anchor" aria-label="anchor" href="#master-list"></a>
</h2>
<p>For receiving a Master List from legiscan’s API you can use <code>getMasterlist</code>. You can provide a unique session ID or you can provide the state abbreviation to return the most recent regular session from that state.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/getMasterList.html">getMasterList</a></span><span class="op">(</span>session <span class="op">=</span> <span class="fl">2108</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "88th Legislature 4th Special Session"</span></span>
<span><span class="co">#&gt; # A tibble: 399 × 10</span></span>
<span><span class="co">#&gt;    bill_id number change_hash          url   status_date status last_action_date</span></span>
<span><span class="co">#&gt;      &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;                &lt;chr&gt; &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;           </span></span>
<span><span class="co">#&gt;  1 1782999 HB1    a7dd8ab0cbac7f28afa… http… 2023-11-07       1 2023-11-17      </span></span>
<span><span class="co">#&gt;  2 1783170 HB2    4da362887d807b94bf0… http… 2023-11-20       2 2023-11-21      </span></span>
<span><span class="co">#&gt;  3 1783002 HB3    8056938ff2b255cc490… http… 2023-11-07       1 2023-11-10      </span></span>
<span><span class="co">#&gt;  4 1783007 HB4    17459d166806c526c46… http… 2023-11-07       1 2023-11-13      </span></span>
<span><span class="co">#&gt;  5 1783053 HB11   c74da0cc9f83206bd2d… http… 2023-11-07       1 2023-11-07      </span></span>
<span><span class="co">#&gt;  6 1783070 HB12   eed274a463bb592c254… http… 2023-11-07       1 2023-11-07      </span></span>
<span><span class="co">#&gt;  7 1783056 HB13   8aba11f7a402ff084d8… http… 2023-11-07       1 2023-11-07      </span></span>
<span><span class="co">#&gt;  8 1783054 HB14   a3f1a2e1372be27dde6… http… 2023-11-07       1 2023-11-07      </span></span>
<span><span class="co">#&gt;  9 1783060 HB15   54068d5092f6d5dbb10… http… 2023-11-07       1 2023-11-07      </span></span>
<span><span class="co">#&gt; 10 1783015 HB16   c3af43bf73d6302a2db… http… 2023-11-07       1 2023-11-07      </span></span>
<span><span class="co">#&gt; # ℹ 389 more rows</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: last_action &lt;chr&gt;, title &lt;chr&gt;, description &lt;chr&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="legisearch">legiSearch<a class="anchor" aria-label="anchor" href="#legisearch"></a>
</h2>
<p>Return a dataframe of search results from legiscan using the <code>legiSearch</code> function. Reference <a href="https://legiscan.com/fulltext-search" class="external-link">legiscan’s documentation</a> for assistance with additional search syntax. You can specify dates, status, type, &amp; more using legiscan’s search filters in the ‘query’ argument.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/legiSearch.html">legiSearch</a></span><span class="op">(</span></span>
<span>  query <span class="op">=</span> <span class="st">"workers compensation"</span>,</span>
<span>  state <span class="op">=</span> <span class="st">"TX"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; 126 Results Found</span></span>
<span><span class="co">#&gt; # A tibble: 126 × 11</span></span>
<span><span class="co">#&gt;    relevance state bill_number bill_id change_hash   url   text_url research_url</span></span>
<span><span class="co">#&gt;        &lt;int&gt; &lt;chr&gt; &lt;chr&gt;         &lt;int&gt; &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;       </span></span>
<span><span class="co">#&gt;  1       100 TX    HB351       1632612 dd8a4d0ce42d… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt;  2        99 TX    HB4389      1731515 0cead4ca815c… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt;  3        99 TX    HB778       1633853 15f1b71b4aa3… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt;  4        99 TX    HB3335      1726032 aa237860109e… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt;  5        98 TX    HB4147      1730763 f0d956d2c38e… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt;  6        98 TX    HB790       1634033 f24304e018fb… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt;  7        98 TX    HB102       1632560 e63dc9a79415… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt;  8        98 TX    HB2314      1706966 999038a29872… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt;  9        98 TX    HB2702      1719196 41789a475d09… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt; 10        98 TX    SB1776      1729262 9cf2c498fd6d… http… https:/… https://leg…</span></span>
<span><span class="co">#&gt; # ℹ 116 more rows</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: last_action_date &lt;chr&gt;, last_action &lt;chr&gt;, title &lt;chr&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="session-people">Session People<a class="anchor" aria-label="anchor" href="#session-people"></a>
</h2>
<p>Return a dataframe of basic information for people from the provided session id.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/getSessionPeople.html">getSessionPeople</a></span><span class="op">(</span>session <span class="op">=</span> <span class="fl">2108</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "88th Legislature 4th Special Session"</span></span>
<span><span class="co">#&gt; # A tibble: 180 × 23</span></span>
<span><span class="co">#&gt;    people_id person_hash party_id state_id party role_id role  name   first_name</span></span>
<span><span class="co">#&gt;        &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;     </span></span>
<span><span class="co">#&gt;  1      5848 3b040ho3    1              43 D           1 Rep   Alma … Alma      </span></span>
<span><span class="co">#&gt;  2      5850 mcnms1e8    1              43 D           2 Sen   Carol… Carol     </span></span>
<span><span class="co">#&gt;  3      5851 i5zt5f3s    1              43 D           1 Rep   Rafae… Rafael    </span></span>
<span><span class="co">#&gt;  4      5852 0iywahqt    2              43 R           1 Rep   Charl… Charles   </span></span>
<span><span class="co">#&gt;  5      5862 2oz7ngk6    2              43 R           1 Rep   Angie… Angie     </span></span>
<span><span class="co">#&gt;  6      5874 afzjvlgk    2              43 R           1 Rep   Tom C… Tom       </span></span>
<span><span class="co">#&gt;  7      5875 d8zu56yg    2              43 R           2 Sen   Charl… Charles   </span></span>
<span><span class="co">#&gt;  8      5877 x0l0s73o    2              43 R           1 Rep   Drew … Drew      </span></span>
<span><span class="co">#&gt;  9      5879 gel8m81o    1              43 D           1 Rep   Yvonn… Yvonne    </span></span>
<span><span class="co">#&gt; 10      5884 1pzqjv8g    1              43 D           1 Rep   Harol… Harold    </span></span>
<span><span class="co">#&gt; # ℹ 170 more rows</span></span>
<span><span class="co">#&gt; # ℹ 14 more variables: middle_name &lt;chr&gt;, last_name &lt;chr&gt;, suffix &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   nickname &lt;chr&gt;, district &lt;chr&gt;, ftm_eid &lt;int&gt;, votesmart_id &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   opensecrets_id &lt;chr&gt;, knowwho_pid &lt;int&gt;, ballotpedia &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   bioguide_id &lt;chr&gt;, committee_sponsor &lt;int&gt;, committee_id &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   state_federal &lt;int&gt;</span></span></code></pre></div>
</div>
</div>
<div class="section level1">
<h1 id="up-next-in-order">Up Next, In Order<a class="anchor" aria-label="anchor" href="#up-next-in-order"></a>
</h1>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>getRollCall</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>getAmendement</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>getSupplement</span></code></pre></div>
<p>Last Update 09/03/24</p>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing legihelpR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Abraham Ruiz <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Abraham Ruiz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
